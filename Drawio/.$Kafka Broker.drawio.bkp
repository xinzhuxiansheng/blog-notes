<mxfile host="Electron" modified="2023-05-12T10:04:03.924Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.1.2 Chrome/106.0.5249.199 Electron/21.4.3 Safari/537.36" etag="pXqfOf_xDA8g73wP7rJN" version="21.1.2" type="device" pages="8">
  <diagram id="dGysOVJsfsGhZXWvgAoo" name="消息写入">
    <mxGraphModel dx="5034" dy="844" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="5xJdTUxu9O6is-2E-N6Q-0" />
        <mxCell id="5xJdTUxu9O6is-2E-N6Q-1" parent="5xJdTUxu9O6is-2E-N6Q-0" />
        <mxCell id="N-S3lAQQy_W_EhIFX15R-47" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;fillColor=none;dashed=1;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3081" y="6500" width="647" height="500" as="geometry" />
        </mxCell>
        <mxCell id="LHk7bfxUiQolHOYUixwu-4" value="KafkaApis.handleProduceRequest()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;sketch=1;fontSize=15;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1830" y="1990" width="260" height="210" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--1" value="KafkaApis.handleProduceRequest" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;sketch=1;fontFamily=Comic Sans MS;fontSize=13;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="30" y="10" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--3" value="1. authorize(...)&lt;br style=&quot;font-size: 13px;&quot;&gt;2. metadataCache.contains(topicPartition)&lt;br style=&quot;font-size: 13px;&quot;&gt;3. ProceRequest.validateRecords(...)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;align=left;verticalAlign=top;sketch=1;fontFamily=Comic Sans MS;fontSize=13;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="10" y="110" width="270" height="80" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--4" value="1.判断Topic是否有权限,&lt;br style=&quot;font-size: 13px&quot;&gt;2.判断当前Broker的metadataCaches是否存在这个Topic&lt;br style=&quot;font-size: 13px&quot;&gt;3.验证消息，若通过验证 将消息存入 authorizedRequestInfo对象中" style="text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;sketch=1;fontFamily=Comic Sans MS;fontSize=13;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="160" y="205" width="410" height="50" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--5" value="1. isValidRequiredAcks(...)" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;align=left;fontFamily=Comic Sans MS;fontSize=13;verticalAlign=top;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="25" y="310" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--6" value="ReplicaManager.appendRecords(...)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontFamily=Comic Sans MS;fontSize=13;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-60" y="280" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--7" value="1.判断required.acks是否超出可接受范围(-1,0,1)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=13;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="170" y="380" width="290" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--8" value="1. internalTopicsAllowed()&lt;br&gt;2. getParitionOrException(...)" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;align=left;fontFamily=Comic Sans MS;fontSize=13;verticalAlign=top;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="25" y="450" width="240" height="130" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--9" value="ReplicaManager.appendToLocalLog(...)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontFamily=Comic Sans MS;fontSize=13;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-70" y="420" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--10" value="内部Topic不允许被写入&lt;br&gt;查找分区位置 在OfflinePartitions、metadataCache、None及判断是否是主分区" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=13;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="170" y="600" width="480" height="40" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--11" value="1. leaderReplicaIfLocal&lt;br&gt;2. inSyncSize &amp;lt; minIsr &amp;amp;&amp;amp; requiredAcks == -1&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;align=left;fontFamily=Comic Sans MS;fontSize=13;verticalAlign=top;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="9" y="740" width="405" height="130" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--12" value="Partition.appendRecordsToLeader(...)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontFamily=Comic Sans MS;fontSize=13;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-70" y="710" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--13" value="判断当前的Partition的Leader是否在当前的Broker&lt;br&gt;判断当前ISR副本数与min.insync.replicas大小值 和ack 是否等于-1&lt;br&gt;在acks =-1 ，默认同步minIsr的副本数，所以ISR不能小于minIsr。" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=13;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="190" y="885" width="410" height="50" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--14" value="1. analyzeAndValidateRecords()" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#d5e8d4;align=left;fontFamily=Comic Sans MS;fontSize=13;verticalAlign=top;strokeColor=#82b366;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="10" y="1040" width="405" height="130" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--15" value="Log.appendAsLeader" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontFamily=Comic Sans MS;fontSize=13;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="7390" y="530" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uYZhVWrihBlBz25XKFC--16" value="判断当前的Partition的Leader是否在当前的Broker&lt;br&gt;判断当前ISR副本数与min.insync.replicas大小值 和ack 是否等于-1&lt;br&gt;在acks =-1 ，默认同步minIsr的副本数，所以ISR不能小于minIsr。" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=13;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="190" y="1185" width="410" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FOfzndHOW3hZ8TmTu7iD-0" value="Log.appendAsLeader(...)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=13;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-60" y="1010" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-0" value="LogAppendInfo" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="960" y="1052" width="300" height="364" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-1" value="- firstOffset: Option[Long] " style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="26" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-3" value="- lastOffset: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="52" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-5" value="- maxTimestamp: Long&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="78" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-6" value="- offsetOfMaxTimestamp: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="104" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-7" value="- logAppendTime: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="130" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-8" value="- logStartOffset: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="156" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-9" value="- recordConversionStats: RecordConversionStats" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="182" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-10" value="- sourceCodec: CompressionCodec" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="208" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-11" value="- targetCodec: CompressionCodec" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="234" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-12" value="- shallowCount: Int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="260" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-13" value="- validBytes: Int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="286" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-14" value="- offsetsMontonic: Boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="312" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-15" value="- lastOffsetOfFirstBatch: Long&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;" parent="1dwHDY_nyFCVKobiK2SX-0" vertex="1">
          <mxGeometry y="338" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1dwHDY_nyFCVKobiK2SX-4" value="case class 样例类" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;sketch=1;fontSize=14;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="950" y="1010" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CU2N3CjhPg7VzeMrfA3_-1" value="records: MemoryRecords, isFromClient: Boolean" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=14;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1170" y="60" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CU2N3CjhPg7VzeMrfA3_-3" value="先指出records.batches的结构" style="whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=14;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-830" y="145" width="220" height="35" as="geometry" />
        </mxCell>
        <mxCell id="91KOBo7qj4vOoRADUm2o-0" value="assignOffsets = true" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=14;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1150" y="210" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZhAFQhpW-U38cvtBr8jV-0" value="判断有效消息字节 是否大于 配置的segment字节大小" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=14;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1215" y="360" width="360" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZhAFQhpW-U38cvtBr8jV-1" value="判断segment是否需要滚动" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=14;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1215" y="490" width="360" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LHk7bfxUiQolHOYUixwu-0" value="Producer" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;sketch=1;fontSize=15;fontFamily=Comic Sans MS;strokeColor=#82b366;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2055" y="1990" width="120" height="210" as="geometry" />
        </mxCell>
        <mxCell id="LHk7bfxUiQolHOYUixwu-2" value="Clients" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;sketch=1;fontSize=15;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2025" y="1960" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LHk7bfxUiQolHOYUixwu-5" value="Broker" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;sketch=1;fontSize=15;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1740" y="1960" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LHk7bfxUiQolHOYUixwu-16" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;sketch=1;fontSize=15;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1445" y="1990" width="230" height="210" as="geometry" />
        </mxCell>
        <mxCell id="LHk7bfxUiQolHOYUixwu-17" value="数据落盘" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;sketch=1;fontSize=15;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1387.5" y="1960" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LHk7bfxUiQolHOYUixwu-18" value="xxxxxxxx.log" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1430" y="2010" width="195" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LHk7bfxUiQolHOYUixwu-19" value="xxxxxxxx.index" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1430" y="2050" width="195" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LHk7bfxUiQolHOYUixwu-20" value="xxxxxxxx.timeindex" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1430" y="2090" width="195" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LHk7bfxUiQolHOYUixwu-21" value="leader-epoch-checkpoint" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1430" y="2130" width="195" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LHk7bfxUiQolHOYUixwu-22" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1910" y="2095" as="sourcePoint" />
            <mxPoint x="-1864.2893218813451" y="2095" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LHk7bfxUiQolHOYUixwu-23" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1530" y="2094.5" as="sourcePoint" />
            <mxPoint x="-1484.2893218813451" y="2094.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KiEB--XMM9rW-ZsGTEg3-0" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1960" y="2560" width="500" height="380" as="geometry" />
        </mxCell>
        <mxCell id="KiEB--XMM9rW-ZsGTEg3-1" value="处理ProduceRequest" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1990" y="2520" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="KiEB--XMM9rW-ZsGTEg3-2" value="KafkaApis" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1920" y="2590" width="420" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KiEB--XMM9rW-ZsGTEg3-3" value="Controller" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2130" y="2600" width="95" height="20" as="geometry" />
        </mxCell>
        <mxCell id="KiEB--XMM9rW-ZsGTEg3-4" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="5xJdTUxu9O6is-2E-N6Q-1" target="KiEB--XMM9rW-ZsGTEg3-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2020" y="2610" as="sourcePoint" />
            <mxPoint x="-1980" y="2590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KiEB--XMM9rW-ZsGTEg3-8" value="ReplicaManager" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1920" y="2680" width="420" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KiEB--XMM9rW-ZsGTEg3-10" value="LogSegment" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1785" y="2850" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="KiEB--XMM9rW-ZsGTEg3-11" value="Partition、Log" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1920" y="2770" width="420" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KiEB--XMM9rW-ZsGTEg3-12" value="Service" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2130" y="2690" width="95" height="20" as="geometry" />
        </mxCell>
        <mxCell id="KiEB--XMM9rW-ZsGTEg3-13" value="Dao" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2130" y="2780" width="95" height="20" as="geometry" />
        </mxCell>
        <mxCell id="KiEB--XMM9rW-ZsGTEg3-14" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2023" y="2703" as="sourcePoint" />
            <mxPoint x="-1923" y="2703" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KiEB--XMM9rW-ZsGTEg3-15" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2023" y="2791.5" as="sourcePoint" />
            <mxPoint x="-1923" y="2791.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wfjlLGHBdF5gLC4xIxW8-0" value="？？？？？" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1740" y="2135" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-0" value="records: MemoryRecords, isFromClient = true" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2700" y="280" width="360" height="45" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-3" value="analyzeAndValidateRecords()" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2800" y="390" width="580" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-5" value="firstOffset" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2900" y="530" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-6" value="lastOffset" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2700" y="530" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-7" value="maxTimestamp" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2520" y="530" width="120" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-8" value="offsetOfMaxTimestamp" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2360" y="530" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-10" value="logStartOffset" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#ffe6cc;fontSize=15;strokeColor=#d79b00;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2920" y="640" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-11" value="sourceCodec" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2680" y="637.5" width="150" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-12" value="targetCodec" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2465" y="640" width="180" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-13" value="shallowMessageCount" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2230" y="637.5" width="180" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-14" value="validBytesCount" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2920" y="760" width="195" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-15" value="monotonic" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2670" y="760" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-16" value="lastOffsetOfFirstBatch" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2370" y="760" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-17" value="" style="endArrow=classic;html=1;fontSize=15;sketch=1;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2636" y="430" as="sourcePoint" />
            <mxPoint x="-2820" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-18" value="ProducerBatch 的BaseOffset都是 0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3020" y="450" width="330" height="20" as="geometry" />
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-19" value="" style="endArrow=classic;html=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2573" y="440" as="sourcePoint" />
            <mxPoint x="-2640" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fF6YF8mPxCim3KNMkz0J-20" value="最后一条Offset" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2630" y="480" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-0" value="" style="endArrow=classic;html=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2480" y="440" as="sourcePoint" />
            <mxPoint x="-2460" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-1" value="最大时间戳" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2460" y="480" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-2" value="最大时间戳的消息，它的Offset" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2275" y="470" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-3" value="" style="endArrow=classic;html=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2295" y="440" as="sourcePoint" />
            <mxPoint x="-2275" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-6" value="" style="endArrow=classic;html=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2530" y="440" as="sourcePoint" />
            <mxPoint x="-2570" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-7" value="Producer 压缩格式" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2705" y="600" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-8" value="" style="endArrow=classic;html=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2430" y="430" as="sourcePoint" />
            <mxPoint x="-2370" y="630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-9" value="判断 Broker的&quot;compression.type&quot;是否等于producer，默认producer" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2560" y="590" width="460" height="20" as="geometry" />
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-10" value="" style="endArrow=classic;html=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2620" y="440" as="sourcePoint" />
            <mxPoint x="-2820" y="740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-11" value="消息的有效字节和" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2970" y="730" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-12" value="" style="endArrow=classic;html=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2510" y="440" as="sourcePoint" />
            <mxPoint x="-2550" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-13" value="batch.lastOffset 是否是递增 ，判断是否小于之前记录的lastOffset" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2750" y="720" width="450" height="20" as="geometry" />
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-14" value="" style="endArrow=classic;html=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2360" y="440" as="sourcePoint" />
            <mxPoint x="-2250" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-15" value="第一批消息的 lastOffset的值，&lt;br&gt;通过 readFirstMessage字段控制" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2255" y="700" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="55kiHKPRto5YFUbE15Nu-16" value="为什么shallowMesageCount 总是1 ，按理来说不应该" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2695" y="840" width="370" height="20" as="geometry" />
        </mxCell>
        <mxCell id="sjPU9iSpZsOnGDnFHhFe-1" value="LogValidator.validateMessagesAndAssignOffsets" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3290" y="1500" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sjPU9iSpZsOnGDnFHhFe-2" value="validRecords" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3360" y="1373" width="150" height="37" as="geometry" />
        </mxCell>
        <mxCell id="sjPU9iSpZsOnGDnFHhFe-3" value="offset" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3185" y="1373" width="150" height="37" as="geometry" />
        </mxCell>
        <mxCell id="sjPU9iSpZsOnGDnFHhFe-4" value="sourceCodec/targetCodec" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2990" y="1373" width="190" height="37" as="geometry" />
        </mxCell>
        <mxCell id="sjPU9iSpZsOnGDnFHhFe-5" value="config.compact" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3400" y="1650" width="140" height="37" as="geometry" />
        </mxCell>
        <mxCell id="sjPU9iSpZsOnGDnFHhFe-6" value="config.messageFormatVersion.recordVersion.value" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3220" y="1650" width="310" height="37" as="geometry" />
        </mxCell>
        <mxCell id="sjPU9iSpZsOnGDnFHhFe-7" value="config.messageTimestampType" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2875" y="1650" width="235" height="37" as="geometry" />
        </mxCell>
        <mxCell id="sjPU9iSpZsOnGDnFHhFe-8" value="config.messageTimestampDifferenceMaxMs" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3400" y="1760" width="300" height="37" as="geometry" />
        </mxCell>
        <mxCell id="sjPU9iSpZsOnGDnFHhFe-9" value="leaderEpoch" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3070" y="1760" width="130" height="37" as="geometry" />
        </mxCell>
        <mxCell id="sjPU9iSpZsOnGDnFHhFe-10" value="isFromClient" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2900" y="1760" width="130" height="37" as="geometry" />
        </mxCell>
        <mxCell id="sjPU9iSpZsOnGDnFHhFe-11" value="interBrokerProtocolVersion" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2730" y="1760" width="180" height="37" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-0" value="KafkaApis" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3377.5" y="3077.5" width="135" height="722.5" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-1" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#d80073;fontFamily=Comic Sans MS;strokeColor=#A50040;fontSize=15;fontColor=#ffffff;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3315" y="3180" width="10" height="580" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-5" value="ReplicaManager" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3100" y="3077.5" width="135" height="732.5" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-10" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#1ba1e2;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#006EAF;fontColor=#ffffff;fontStyle=1" parent="FQD0rgc21fnHdq4jG90R-5" vertex="1">
          <mxGeometry x="75" y="227.5" width="10" height="392.5" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-11" value="appendToLocalLog()" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="FQD0rgc21fnHdq4jG90R-5" target="FQD0rgc21fnHdq4jG90R-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="80" y="207.5" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="110" y="208" />
              <mxPoint x="110" y="228" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-6" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#0050ef;fontFamily=Comic Sans MS;strokeColor=#001DBC;fontSize=15;fontColor=#ffffff;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3037.5" y="3250" width="10" height="480" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-7" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-3290" y="3260" as="sourcePoint" />
            <mxPoint x="-3050" y="3260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-9" value="appendRecords()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3175" y="3230" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-15" value="Partition" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2840" y="3077.5" width="135" height="732.5" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-16" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#60a917;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#2D7600;fontColor=#ffffff;fontStyle=1" parent="FQD0rgc21fnHdq4jG90R-15" vertex="1">
          <mxGeometry x="62.5" y="282.5" width="10" height="327.5" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-17" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-3005" y="3360" as="sourcePoint" />
            <mxPoint x="-2790" y="3360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-18" value="appendRecordsToLeader()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=1;fillColor=#ffffff;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2857.5" y="3330" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-19" value="Log" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2600" y="3073.75" width="135" height="736.25" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-20" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#e51400;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#B20000;fontColor=#ffffff;fontStyle=1" parent="FQD0rgc21fnHdq4jG90R-19" vertex="1">
          <mxGeometry x="62.5" y="316.25" width="10" height="293.75" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-23" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#76608a;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1;strokeColor=#432D57;fontColor=#ffffff;" parent="FQD0rgc21fnHdq4jG90R-19" vertex="1">
          <mxGeometry x="75" y="384.25" width="10" height="175.75" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-24" value="append()" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="FQD0rgc21fnHdq4jG90R-19" target="FQD0rgc21fnHdq4jG90R-23" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="80" y="364.25" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="110" y="364.25" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-21" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-2750" y="3395" as="sourcePoint" />
            <mxPoint x="-2550" y="3394.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-22" value="appendAsLeader()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=1;fillColor=#ffffff;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2600" y="3360" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-25" value="LogSegment" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2370" y="3073.75" width="135" height="736.25" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-26" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#e3c800;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#B09500;fontColor=#ffffff;fontStyle=1" parent="FQD0rgc21fnHdq4jG90R-25" vertex="1">
          <mxGeometry x="62.5" y="420" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-29" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-2500" y="3500.5" as="sourcePoint" />
            <mxPoint x="-2320" y="3501" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-30" value="append()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=1;fillColor=#ffffff;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2340" y="3470" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-31" value="FileChannelImpl" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2170" y="3073.75" width="135" height="736.25" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-32" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#e3c800;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#B09500;fontColor=#ffffff;fontStyle=1" parent="FQD0rgc21fnHdq4jG90R-31" vertex="1">
          <mxGeometry x="62.5" y="460" width="10" height="90" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-33" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-2280" y="3541" as="sourcePoint" />
            <mxPoint x="-2115" y="3541" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-34" value="write(buffer)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=1;fillColor=#ffffff;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2157.5" y="3500" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-3" value="handleProduceRequest(request)" style="text;html=1;strokeColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1;fillColor=#ffffff;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3410" y="3150" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-46" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=21;sketch=1;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-3370" y="4400" as="sourcePoint" />
            <mxPoint x="-2540" y="4400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-49" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=21;dashed=1;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-3170" y="4400" as="sourcePoint" />
            <mxPoint x="-3170" y="4330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-50" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=21;dashed=1;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2950" y="4400" as="sourcePoint" />
            <mxPoint x="-2950" y="4330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-51" value="Kafka-Clients 0.10" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=21;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3265" y="4295" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-52" value="Kafka-Clients 0.11" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=21;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3045" y="4295" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-53" value="V1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=21;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3077.5" y="4345" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-54" value="V0" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=21;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3300" y="4345" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FQD0rgc21fnHdq4jG90R-55" value="V2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=21;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2750" y="4345" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-0" value="KafkaApis.handleProduceRequest()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;sketch=1;fontSize=15;fontFamily=Comic Sans MS;align=left;verticalAlign=top;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-235" y="4700" width="260" height="320" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-1" value="Producer" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;sketch=1;fontSize=15;fontFamily=Comic Sans MS;strokeColor=#82b366;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-460" y="4700" width="120" height="210" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-2" value="Clients" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;sketch=1;fontSize=15;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-430" y="4670" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-3" value="Broker" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;sketch=1;fontSize=15;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-145" y="4670" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;sketch=1;fontSize=15;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="150" y="4700" width="230" height="210" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-5" value="数据落盘" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;sketch=1;fontSize=15;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="207.5" y="4670" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-6" value="xxxxxxxx.log" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="165" y="4720" width="195" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-7" value="xxxxxxxx.index" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="165" y="4760" width="195" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-8" value="xxxxxxxx.timeindex" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="165" y="4800" width="195" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-9" value="leader-epoch-checkpoint" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="165" y="4840" width="195" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-10" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-315" y="4805" as="sourcePoint" />
            <mxPoint x="-269.28932188134513" y="4805" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-11" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="4960" as="sourcePoint" />
            <mxPoint x="130" y="4820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-13" value="Topic权限校验" style="rounded=0;whiteSpace=wrap;html=1;align=center;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-205" y="4750" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-14" value="Partition Leader相关校验" style="rounded=0;whiteSpace=wrap;html=1;align=center;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-205" y="4800" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-15" value="Records相关校验" style="rounded=0;whiteSpace=wrap;html=1;align=center;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-205" y="4850" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-16" value="FileChannelImpl写入" style="rounded=0;whiteSpace=wrap;html=1;align=center;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-205" y="4950" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ORL-9OL33GDWZGhQPxh-18" value="...... 太多的校验逻辑" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-165" y="4900" width="125" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bHieV2Wr35ogT9vwY1q3-1" value="&lt;b&gt;&amp;gt;=&lt;/b&gt; 0.11版本" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=21;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2740" y="4295" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-0" value="KafkaApis" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3057.5" y="5053.75" width="135" height="722.5" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-1" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#d80073;fontFamily=Comic Sans MS;strokeColor=#A50040;fontSize=15;fontColor=#ffffff;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2995" y="5156.25" width="10" height="580" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-2" value="ReplicaManager" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2780" y="5053.75" width="135" height="732.5" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-3" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#1ba1e2;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#006EAF;fontColor=#ffffff;fontStyle=1" parent="8AjuPg9HMgrjWtLLftOb-2" vertex="1">
          <mxGeometry x="75" y="227.5" width="10" height="392.5" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-4" value="appendToLocalLog()" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="8AjuPg9HMgrjWtLLftOb-2" target="8AjuPg9HMgrjWtLLftOb-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="80" y="207.5" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="110" y="208" />
              <mxPoint x="110" y="228" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-5" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#0050ef;fontFamily=Comic Sans MS;strokeColor=#001DBC;fontSize=15;fontColor=#ffffff;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2717.5" y="5226.25" width="10" height="480" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-6" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-2970" y="5236.25" as="sourcePoint" />
            <mxPoint x="-2730" y="5236.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-7" value="appendRecords()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2855" y="5206.25" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-8" value="Partition" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2520" y="5053.75" width="135" height="732.5" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-9" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#60a917;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#2D7600;fontColor=#ffffff;fontStyle=1" parent="8AjuPg9HMgrjWtLLftOb-8" vertex="1">
          <mxGeometry x="62.5" y="282.5" width="10" height="327.5" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-10" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-2685" y="5336.25" as="sourcePoint" />
            <mxPoint x="-2470" y="5336.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-11" value="appendRecordsToLeader()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=1;fillColor=#ffffff;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2537.5" y="5306.25" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-12" value="Log" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2280" y="5050" width="135" height="736.25" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-13" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#e51400;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#B20000;fontColor=#ffffff;fontStyle=1" parent="8AjuPg9HMgrjWtLLftOb-12" vertex="1">
          <mxGeometry x="62.5" y="316.25" width="10" height="293.75" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-14" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#76608a;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1;strokeColor=#432D57;fontColor=#ffffff;" parent="8AjuPg9HMgrjWtLLftOb-12" vertex="1">
          <mxGeometry x="75" y="384.25" width="10" height="175.75" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-15" value="append()" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="8AjuPg9HMgrjWtLLftOb-12" target="8AjuPg9HMgrjWtLLftOb-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="80" y="364.25" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="110" y="364.25" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-16" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-2430" y="5371.25" as="sourcePoint" />
            <mxPoint x="-2230" y="5370.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-17" value="appendAsLeader()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=1;fillColor=#ffffff;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2280" y="5336.25" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-18" value="LogSegment" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2050" y="5050" width="135" height="736.25" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-19" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#e3c800;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#B09500;fontColor=#ffffff;fontStyle=1" parent="8AjuPg9HMgrjWtLLftOb-18" vertex="1">
          <mxGeometry x="62.5" y="420" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-20" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-2180" y="5476.75" as="sourcePoint" />
            <mxPoint x="-2000" y="5477.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-21" value="append()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=1;fillColor=#ffffff;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2020" y="5446.25" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-22" value="FileChannelImpl" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1850" y="5050" width="135" height="736.25" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-23" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#e3c800;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#B09500;fontColor=#ffffff;fontStyle=1" parent="8AjuPg9HMgrjWtLLftOb-22" vertex="1">
          <mxGeometry x="62.5" y="460" width="10" height="90" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-24" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1960" y="5517.25" as="sourcePoint" />
            <mxPoint x="-1795" y="5517.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-25" value="write(buffer)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=1;fillColor=#ffffff;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1837.5" y="5476.25" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-26" value="handleProduceRequest(request)" style="text;html=1;strokeColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1;fillColor=#ffffff;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3090" y="5126.25" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-27" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=14;fillColor=#a20025;strokeColor=#6F0000;sketch=1;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1650" y="5280" as="sourcePoint" />
            <mxPoint x="-2090" y="5420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-28" value="&lt;font style=&quot;font-size: 19px;&quot;&gt;起始点&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=19;fontStyle=1" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-1715" y="5226.25" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#FF0000;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2840" y="6700" as="targetPoint" />
            <mxPoint x="-2840" y="6630" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8AjuPg9HMgrjWtLLftOb-30" value="&#xa;&#xa;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: &amp;quot;comic sans ms&amp;quot;; font-size: 15px; font-style: normal; font-weight: 400; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(255, 255, 255); display: inline; float: none;&quot;&gt;analyzeAndValidateRecords()&lt;/span&gt;&#xa;&#xa;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fillColor=none;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3012.5" y="6560" width="345" height="50" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-16" value="LogAppendInfo" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2375" y="6500" width="350" height="390" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-17" value="+ dir: File" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="26" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-18" value="+ config: LogConfig" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="52" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-19" value="+ logStartOffset: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="78" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-20" value="+ recoveryPoint: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="104" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-21" value="+ scheduler: Scheduler" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="130" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-22" value="+ brokerTopicStats: BrokerTopicStats" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="156" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-23" value="+ time: Time" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="182" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-24" value="+ maxProducerIdExpirationMs: Int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="208" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-25" value="+ producerIdExpirationCheckIntervalMs: Int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="234" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-26" value="+ topicPartition: TopicPartition" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="260" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-27" value="+ producerStateManager: ProducerStateManager" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="286" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-28" value="+ logDirFailureChannel: LogDirFailureChannel" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="312" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-29" value="- isMemoryMappedBufferClosed: var" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="338" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-30" value="" style="endArrow=none;html=1;fontFamily=Comic Sans MS;fontSize=14;exitX=-0.002;exitY=0.177;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1.002;entryY=0.238;entryDx=0;entryDy=0;entryPerimeter=0;" parent="N-S3lAQQy_W_EhIFX15R-16" source="N-S3lAQQy_W_EhIFX15R-29" target="N-S3lAQQy_W_EhIFX15R-29" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="500" as="sourcePoint" />
            <mxPoint x="150" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-31" value="- nextOffsetMetadata: LogOffsetMetadata" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="N-S3lAQQy_W_EhIFX15R-16" vertex="1">
          <mxGeometry y="364" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-32" value="LogValidator.validateMessagesAndAssignOffsets(...)" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fillColor=#d5e8d4;strokeColor=#82b366;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3010" y="6710" width="490" height="50" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-33" value="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2999.5" y="6540" width="42" height="42" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-34" value="2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2992" y="6690" width="42" height="42" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-39" value="利用Step2的验证结果，重新对appendInfo赋值" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fillColor=none;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3010" y="6860" width="470" height="50" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-40" value="3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2997" y="6840" width="42" height="42" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-42" value="appendInfo" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=15;fontFamily=Comic Sans MS;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2830" y="6660" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#FF0000;" parent="5xJdTUxu9O6is-2E-N6Q-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2840" y="6850" as="targetPoint" />
            <mxPoint x="-2840" y="6780" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-46" value="validateAndOffsetAssignResult" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=15;fontFamily=Comic Sans MS;fontColor=#000000;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-2830" y="6810" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="N-S3lAQQy_W_EhIFX15R-48" value="Log.append的消息校验及分配Offset" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=15;fontFamily=Comic Sans MS;fontColor=#000000;" parent="5xJdTUxu9O6is-2E-N6Q-1" vertex="1">
          <mxGeometry x="-3108.5" y="6470" width="260" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="kD4Ln86rXSXBf1_5hryA" name="数据丢失情况">
    <mxGraphModel dx="1450" dy="1029" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-0" />
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-1" parent="RpsfC9vUJPd8xr_bz4OY-0" />
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-2" value="在没有引入leader epoch之前的Kafka 可能出现的数据丢失情况" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="-60" y="-50" width="470" height="50" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-3" value="案例一" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="-50" y="20" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-4" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="130" y="50" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-5" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="130" y="80" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-6" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="130" y="110" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-7" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="400" y="50" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-8" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="400" y="80" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-9" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="400" y="110" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-10" value="Replica A" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="160" y="20" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-11" value="Replica B" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="427.5" y="20" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-12" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="90" y="80" as="sourcePoint" />
            <mxPoint x="120" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-13" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="80" y="55" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-15" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="80" as="sourcePoint" />
            <mxPoint x="390" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-16" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="350" y="55" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-18" value="Leader" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="520" y="10" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-19" value="Follower" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="250" y="10" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-20" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;fillColor=#cce5ff;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="220" as="sourcePoint" />
            <mxPoint x="320" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-22" value="m:message" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="422.5" y="-35" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-27" value="初始化： Replica A是Follower ，Replica B是Leader，两个副本都有m1消息且 HW:0,LEO:0" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fillColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="-50" y="150" width="630" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-28" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="140" y="330" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-29" value="1&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m2" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#ffe6cc;fontFamily=Comic Sans MS;fontSize=15;align=left;strokeColor=#d79b00;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="140" y="360" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-30" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="140" y="390" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-31" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="410" y="330" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-32" value="1&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m2" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="410" y="360" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-33" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="410" y="390" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-34" value="Replica A" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="170" y="300" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-35" value="Replica B" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="437.5" y="300" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-36" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="360" as="sourcePoint" />
            <mxPoint x="130" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-37" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="90" y="335" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-38" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="360" as="sourcePoint" />
            <mxPoint x="560" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-39" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="570" y="335" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-40" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="650" y="250" as="sourcePoint" />
            <mxPoint x="560" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-42" value="@1&amp;nbsp; 同步m2" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=12;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="300" y="360" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-44" value="m2消息写入" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="660" y="230" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-46" value="HW:1&lt;br&gt;&lt;div&gt;&lt;span&gt;LEO:1&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry y="80" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-47" value="HW:1&lt;br&gt;LEO:1" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="580" y="80" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="RpsfC9vUJPd8xr_bz4OY-48" value="Replica A 同步Replica B的m2消息过程： &lt;br&gt;@1 同步m2消息到 Replica A，&lt;br&gt;@2 Replica A在发起新一轮的 FetchRequest/FetchResponse 才能更新自身的HW为1&lt;br&gt;&lt;br&gt;Replica B在接受到A新一轮的请求后将HW更新为1" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fillColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="-5" y="440" width="590" height="90" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-3" value="" style="endArrow=classic;startArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=11;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="290" y="380" as="sourcePoint" />
            <mxPoint x="400" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-4" value="" style="endArrow=classic;startArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=11;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="290" y="400" as="sourcePoint" />
            <mxPoint x="400" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-5" value="@2&amp;nbsp; 更新HW" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=12;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="300" y="380" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-10" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="130" y="680" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-11" value="1&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m2" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#ffe6cc;fontFamily=Comic Sans MS;fontSize=15;align=left;strokeColor=#d79b00;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="130" y="710" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-12" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="130" y="740" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-13" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="400" y="680" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-14" value="1&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m2" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="400" y="710" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-15" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="400" y="740" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-16" value="Replica A" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="160" y="650" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-17" value="Replica B" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="427.5" y="650" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-18" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="90" y="710" as="sourcePoint" />
            <mxPoint x="120" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-19" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="80" y="685" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-23" value="@1&amp;nbsp; 同步m2" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=12;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="290" y="710" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-25" value="突然宕机了，那么A在重启之后，根据之前HW的位置(这个值会存入本地的复制点文件 replication-offset-checkpoint)&lt;br&gt;虽然m2 写入了但是 HW还是0&lt;br&gt;所以A在重启之后会根据本地的HW=0，对日志进行截断，这样m2 这条消息就会删除" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fillColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="-20" y="800" width="800" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-26" value="" style="endArrow=classic;startArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=11;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="730" as="sourcePoint" />
            <mxPoint x="390" y="730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-27" value="" style="endArrow=classic;startArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=11;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="750" as="sourcePoint" />
            <mxPoint x="390" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-28" value="@2&amp;nbsp; 更新HW" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=12;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="290" y="730" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-29" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=12;fillColor=#cce5ff;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="550" as="sourcePoint" />
            <mxPoint x="320" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-33" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.x;dashed=1;sketch=1;fillColor=#e51400;fontFamily=Comic Sans MS;fontSize=12;align=left;strokeColor=#B20000;fontColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="167.5" y="690" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-39" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="140" y="990" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-40" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=15;align=left;fillColor=none;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="140" y="1020" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-41" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="140" y="1050" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-42" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="410" y="990" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-43" value="1&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m2" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="410" y="1020" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-44" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="410" y="1050" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-45" value="Replica A" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="170" y="960" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-46" value="Replica B" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="437.5" y="960" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-47" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="1020" as="sourcePoint" />
            <mxPoint x="130" y="1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-48" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="90" y="995" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-58" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=12;fillColor=#cce5ff;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="339" y="890" as="sourcePoint" />
            <mxPoint x="339" y="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-59" value="1.Replica A 重启之后 再向B发送 FetchRequest请求拉取消息。@1 同步m2消息&lt;br&gt;2.此时若B再宕机，那么A就会被选举为新的leader&lt;br&gt;&lt;br&gt;" style="text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fillColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="-10" y="1110" width="540" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-63" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.x;dashed=1;sketch=1;fillColor=#e51400;fontFamily=Comic Sans MS;fontSize=12;align=left;strokeColor=#B20000;fontColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="447.5" y="1005" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-65" value="" style="endArrow=classic;startArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=11;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="285" y="1040" as="sourcePoint" />
            <mxPoint x="395" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-66" value="@1&amp;nbsp; 同步m2" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=12;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="300" y="1015" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-67" value="Leader" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=3;fillColor=#cdeb8b;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="95" y="950" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-69" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="150" y="1290" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-70" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=15;align=left;fillColor=none;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="150" y="1320" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-71" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="150" y="1350" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-72" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="420" y="1290" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-73" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="420" y="1320" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-74" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="420" y="1350" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-75" value="Replica A" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="180" y="1260" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-76" value="Replica B" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="447.5" y="1260" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-77" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="110" y="1320" as="sourcePoint" />
            <mxPoint x="140" y="1320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-78" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="100" y="1295" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-81" value="之后B恢复之后会成为follower，由于follower副本HW不能比leader副本的HW高&lt;br&gt;所以还会做一次日志截断，&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;从此将HW调整为0，这样一来m2这条消息就丢失了，就算B不能恢复，这条消息也同样丢失了&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fillColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="-20" y="1410" width="820" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-85" value="Leader" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=3;fillColor=#cdeb8b;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="105" y="1250" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-86" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=12;fillColor=#cce5ff;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="344.5" y="1180" as="sourcePoint" />
            <mxPoint x="344.5" y="1240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-87" value="Follower" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=3;fillColor=#cdeb8b;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="540" y="1250" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-88" value="HW:1&lt;br&gt;LEO:2" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="620" y="325" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-89" value="HW:0&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;LEO:1&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry y="335" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-90" value="@2 若Leader&amp;nbsp; B已更新自身的HW=1，返回后，A也要更新自身的HW=1，可是在 FetchResponse，A突然&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;宕机&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fillColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="-40" y="570" width="740" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-91" value="HW:0&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;LEO:1&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry y="690" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-92" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="585" y="735" as="sourcePoint" />
            <mxPoint x="545" y="735" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-93" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="555" y="710" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-94" value="HW:1&lt;br&gt;LEO:2" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="605" y="700" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-95" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="1045" as="sourcePoint" />
            <mxPoint x="560" y="1045" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-96" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="570" y="1020" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-97" value="HW:1&lt;br&gt;LEO:2" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="620" y="1010" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-98" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="605" y="1320" as="sourcePoint" />
            <mxPoint x="565" y="1320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-99" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="575" y="1295" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-100" value="HW:0&lt;br&gt;LEO:1" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="630" y="1295" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-101" value="HW:0&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;LEO:1&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="-5" y="1005" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-102" value="HW:0&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;LEO:1&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="20" y="1310" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-103" value="在没有引入leader epoch之前的Kafka 可能出现的数据不一致情况" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1310" y="-50" width="470" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-104" value="案例二" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1320" y="20" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-105" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1500" y="50" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-106" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1500" y="80" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-107" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1500" y="110" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-108" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1770" y="50" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-109" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1770" y="80" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-110" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1770" y="110" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-111" value="Replica A" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1530" y="20" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-112" value="Replica B" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1797.5" y="20" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-113" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1460" y="80" as="sourcePoint" />
            <mxPoint x="1490" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-114" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1450" y="55" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-115" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730" y="80" as="sourcePoint" />
            <mxPoint x="1760" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-116" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1720" y="55" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-117" value="Leader" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1890" y="10" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-118" value="Follower" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1620" y="10" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-119" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;fillColor=#cce5ff;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1690" y="220" as="sourcePoint" />
            <mxPoint x="1690" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-120" value="m:message" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1792.5" y="-35" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-121" value="初始化： Replica A是Follower ，Replica B是Leader，两个副本都有m1消息且 HW:0,LEO:0" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fillColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1320" y="150" width="630" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-122" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1510" y="330" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-123" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=15;align=left;fillColor=none;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1510" y="360" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-124" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1510" y="390" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-125" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1780" y="330" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-126" value="1&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m2" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1780" y="360" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-127" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1780" y="390" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-128" value="Replica A" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1540" y="300" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-129" value="Replica B" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1807.5" y="300" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-130" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1470" y="360" as="sourcePoint" />
            <mxPoint x="1500" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-131" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1460" y="335" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-132" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1980" y="360" as="sourcePoint" />
            <mxPoint x="1940" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-133" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1950" y="335" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-134" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2020" y="250" as="sourcePoint" />
            <mxPoint x="1930" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-136" value="m2消息写入" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="2030" y="230" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-137" value="HW:0&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;LEO:1&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1370" y="80" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-138" value="HW:0&lt;br&gt;LEO:1" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1950" y="80" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-139" value="1. Replica B 写入m2消息后，" style="text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fillColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1365" y="465" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-143" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1500" y="680" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-144" value="1&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m2" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#ffe6cc;fontFamily=Comic Sans MS;fontSize=15;align=left;strokeColor=#d79b00;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1500" y="710" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-145" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1500" y="740" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-146" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1770" y="680" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-147" value="1&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m2" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1770" y="710" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-148" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1770" y="740" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-149" value="Replica A" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1530" y="650" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-150" value="Replica B" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1797.5" y="650" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-151" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1460" y="710" as="sourcePoint" />
            <mxPoint x="1490" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-152" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1450" y="685" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-153" value="@1&amp;nbsp; 同步m2" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=12;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1660" y="710" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-154" value="突然宕机了，那么A在重启之后，根据之前HW的位置(这个值会存入本地的复制点文件 replication-offset-checkpoint)&lt;br&gt;虽然m2 写入了但是 HW还是0&lt;br&gt;所以A在重启之后会根据本地的HW=0，对日志进行截断，这样m2 这条消息就会删除" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fillColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1350" y="800" width="800" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-155" value="" style="endArrow=classic;startArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=11;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1650" y="730" as="sourcePoint" />
            <mxPoint x="1760" y="730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-156" value="" style="endArrow=classic;startArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=11;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1650" y="750" as="sourcePoint" />
            <mxPoint x="1760" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-157" value="@2&amp;nbsp; 更新HW" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=12;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1660" y="730" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-158" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=12;fillColor=#cce5ff;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1690" y="550" as="sourcePoint" />
            <mxPoint x="1690" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-159" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.x;dashed=1;sketch=1;fillColor=#e51400;fontFamily=Comic Sans MS;fontSize=12;align=left;strokeColor=#B20000;fontColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1537.5" y="690" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-160" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1510" y="990" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-161" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=15;align=left;fillColor=none;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1510" y="1020" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-162" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1510" y="1050" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-163" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1780" y="990" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-164" value="1&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m2" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1780" y="1020" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-165" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1780" y="1050" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-166" value="Replica A" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1540" y="960" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-167" value="Replica B" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1807.5" y="960" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-168" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1470" y="1020" as="sourcePoint" />
            <mxPoint x="1500" y="1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-169" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1460" y="995" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-170" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=12;fillColor=#cce5ff;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1708.999999999999" y="890" as="sourcePoint" />
            <mxPoint x="1708.999999999999" y="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-171" value="1.Replica A 重启之后 再向B发送 FetchRequest请求拉取消息。@1 同步m2消息&lt;br&gt;2.此时若B再宕机，那么A就会被选举为新的leader&lt;br&gt;&lt;br&gt;" style="text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fillColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1360" y="1110" width="540" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-172" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.x;dashed=1;sketch=1;fillColor=#e51400;fontFamily=Comic Sans MS;fontSize=12;align=left;strokeColor=#B20000;fontColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1817.5" y="1005" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-173" value="" style="endArrow=classic;startArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=11;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1655" y="1040" as="sourcePoint" />
            <mxPoint x="1765" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-174" value="@1&amp;nbsp; 同步m2" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=12;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1670" y="1015" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-175" value="Leader" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=3;fillColor=#cdeb8b;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1465" y="950" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-176" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1520" y="1290" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-177" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=15;align=left;fillColor=none;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1520" y="1320" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-178" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1520" y="1350" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-179" value="0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1790" y="1290" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-180" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1790" y="1320" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-181" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=left;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1790" y="1350" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-182" value="Replica A" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1550" y="1260" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-183" value="Replica B" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1817.5" y="1260" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-184" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1480" y="1320" as="sourcePoint" />
            <mxPoint x="1510" y="1320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-185" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1470" y="1295" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-186" value="之后B恢复之后会成为follower，由于follower副本HW不能比leader副本的HW高&lt;br&gt;所以还会做一次日志截断，&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;从此将HW调整为0，这样一来m2这条消息就丢失了，就算B不能恢复，这条消息也同样丢失了&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fillColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1350" y="1410" width="820" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-187" value="Leader" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=3;fillColor=#cdeb8b;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1475" y="1250" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-188" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=12;fillColor=#cce5ff;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1714.5" y="1180" as="sourcePoint" />
            <mxPoint x="1714.5" y="1240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-189" value="Follower" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=3;fillColor=#cdeb8b;strokeColor=#36393d;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1910" y="1250" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-190" value="HW:0&lt;br&gt;LEO:2" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="2000" y="325" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-191" value="HW:0&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;LEO:1&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1370" y="335" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-192" value="@2 若Leader&amp;nbsp; B已更新自身的HW=1，返回后，A也要更新自身的HW=1，可是在 FetchResponse，A突然&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;宕机&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fillColor=#ffffff;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1330" y="570" width="740" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-193" value="HW:0&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;LEO:1&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1370" y="690" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-194" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1955" y="735" as="sourcePoint" />
            <mxPoint x="1915" y="735" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-195" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1925" y="710" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-196" value="HW:1&lt;br&gt;LEO:2" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1975" y="700" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-197" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1970" y="1045" as="sourcePoint" />
            <mxPoint x="1930" y="1045" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-198" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1940" y="1020" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-199" value="HW:1&lt;br&gt;LEO:2" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1990" y="1010" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-200" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="RpsfC9vUJPd8xr_bz4OY-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1975" y="1320" as="sourcePoint" />
            <mxPoint x="1935" y="1320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-201" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1945" y="1295" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-202" value="HW:0&lt;br&gt;LEO:1" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="2000" y="1295" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-203" value="HW:0&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;LEO:1&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1365" y="1005" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-204" value="HW:0&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;LEO:1&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1390" y="1310" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-205" value="Leader" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1855" y="270" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="1rICYPrFxVbnCFItKZ7E-206" value="Follower" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="RpsfC9vUJPd8xr_bz4OY-1" vertex="1">
          <mxGeometry x="1500" y="270" width="70" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="CEBHmjS72ae13v-ty7oe" name="HW和LEO">
    <mxGraphModel dx="1361" dy="632" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-0" />
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-1" parent="SP3mvMHeNUrXCZ7fW8Jh-0" />
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-2" value="0" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#dae8fc;fontFamily=Comic Sans MS;fontSize=15;align=center;strokeColor=#6c8ebf;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="120" y="180" width="40" height="170" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-3" value="1" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#dae8fc;fontFamily=Comic Sans MS;fontSize=15;align=center;strokeColor=#6c8ebf;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="160" y="180" width="40" height="170" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-4" value="2" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#dae8fc;fontFamily=Comic Sans MS;fontSize=15;align=center;strokeColor=#6c8ebf;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="200" y="180" width="40" height="170" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-5" value="3" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#dae8fc;fontFamily=Comic Sans MS;fontSize=15;align=center;strokeColor=#6c8ebf;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="240" y="180" width="40" height="170" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-6" value="4" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#dae8fc;fontFamily=Comic Sans MS;fontSize=15;align=center;strokeColor=#6c8ebf;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="280" y="180" width="40" height="170" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-7" value="5" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#dae8fc;fontFamily=Comic Sans MS;fontSize=15;align=center;strokeColor=#6c8ebf;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="320" y="180" width="40" height="170" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-8" value="6" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=15;align=center;strokeColor=#6c8ebf;fillColor=none;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="360" y="180" width="40" height="170" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-9" value="7" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=center;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="400" y="180" width="40" height="170" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-10" value="8" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=center;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="440" y="180" width="40" height="170" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-11" value="9" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=center;dashed=1;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="490" y="180" width="40" height="170" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-12" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;sketch=1;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="140" as="sourcePoint" />
            <mxPoint x="380" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-13" value="HW" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;sketch=1;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="360" y="110" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-15" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;sketch=1;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="510" y="140" as="sourcePoint" />
            <mxPoint x="510" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-16" value="LEO" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;sketch=1;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="485" y="110" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-17" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="510" y="420" as="sourcePoint" />
            <mxPoint x="510" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-18" value="当前带要写入最新的消息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="490" y="430" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-19" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;dashed=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;align=center;rotation=-90;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="230" y="260" width="20" height="240" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-20" value="Consumer可消费的消的区域" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="120" y="400" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-21" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=15;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="110" as="sourcePoint" />
            <mxPoint x="140" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SP3mvMHeNUrXCZ7fW8Jh-22" value="日志文件起始处 LogStartOffset" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;" parent="SP3mvMHeNUrXCZ7fW8Jh-1" vertex="1">
          <mxGeometry x="-30" y="80" width="240" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="HOu_aHLhuFKN_KUtTc_k" name="类图">
    <mxGraphModel dx="3334" dy="801" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="Q-dP8ciFNHrBAWVLvOmM-0" />
        <mxCell id="Q-dP8ciFNHrBAWVLvOmM-1" parent="Q-dP8ciFNHrBAWVLvOmM-0" />
        <mxCell id="uwROkx0FOLXhgVkQ7gWC-0" value="LogAppendInfo" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="Q-dP8ciFNHrBAWVLvOmM-1" vertex="1">
          <mxGeometry x="90" y="160" width="350" height="390" as="geometry" />
        </mxCell>
        <mxCell id="uwROkx0FOLXhgVkQ7gWC-1" value="+ dir: File" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="26" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uwROkx0FOLXhgVkQ7gWC-2" value="+ config: LogConfig" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="52" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uwROkx0FOLXhgVkQ7gWC-3" value="+ logStartOffset: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="78" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8VxzHWT001-mCsdlFZcP-1" value="+ recoveryPoint: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="104" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8VxzHWT001-mCsdlFZcP-2" value="+ scheduler: Scheduler" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="130" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8VxzHWT001-mCsdlFZcP-3" value="+ brokerTopicStats: BrokerTopicStats" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="156" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8VxzHWT001-mCsdlFZcP-4" value="+ time: Time" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="182" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8VxzHWT001-mCsdlFZcP-5" value="+ maxProducerIdExpirationMs: Int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="208" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8VxzHWT001-mCsdlFZcP-6" value="+ producerIdExpirationCheckIntervalMs: Int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="234" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8VxzHWT001-mCsdlFZcP-8" value="+ topicPartition: TopicPartition" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="260" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8VxzHWT001-mCsdlFZcP-7" value="+ producerStateManager: ProducerStateManager" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="286" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8VxzHWT001-mCsdlFZcP-9" value="+ logDirFailureChannel: LogDirFailureChannel" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="312" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e7hOXuaYYcCUTgrt5q5i-0" value="- isMemoryMappedBufferClosed: var" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="338" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RRm6XipDfn5CqS71pVWX-0" value="" style="endArrow=none;html=1;fontFamily=Comic Sans MS;fontSize=14;exitX=-0.002;exitY=0.177;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1.002;entryY=0.238;entryDx=0;entryDy=0;entryPerimeter=0;" parent="uwROkx0FOLXhgVkQ7gWC-0" source="e7hOXuaYYcCUTgrt5q5i-0" target="e7hOXuaYYcCUTgrt5q5i-0" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="500" as="sourcePoint" />
            <mxPoint x="150" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RRm6XipDfn5CqS71pVWX-1" value="- nextOffsetMetadata: LogOffsetMetadata" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="uwROkx0FOLXhgVkQ7gWC-0" vertex="1">
          <mxGeometry y="364" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8VxzHWT001-mCsdlFZcP-0" value="case class" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="Q-dP8ciFNHrBAWVLvOmM-1" vertex="1">
          <mxGeometry x="40" y="120" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RRm6XipDfn5CqS71pVWX-2" value="LogOffsetMetadata" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="Q-dP8ciFNHrBAWVLvOmM-1" vertex="1">
          <mxGeometry x="590" y="160" width="350" height="104" as="geometry" />
        </mxCell>
        <mxCell id="RRm6XipDfn5CqS71pVWX-3" value="+ messageOffset: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="RRm6XipDfn5CqS71pVWX-2" vertex="1">
          <mxGeometry y="26" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RRm6XipDfn5CqS71pVWX-4" value="+ segmentBaseOffset: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="RRm6XipDfn5CqS71pVWX-2" vertex="1">
          <mxGeometry y="52" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RRm6XipDfn5CqS71pVWX-5" value="+ relativePositionInSegment: Int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="RRm6XipDfn5CqS71pVWX-2" vertex="1">
          <mxGeometry y="78" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RRm6XipDfn5CqS71pVWX-18" value="case class" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="Q-dP8ciFNHrBAWVLvOmM-1" vertex="1">
          <mxGeometry x="540" y="120" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="7ELXfH5D9BQOBlX2MTjO-1" value="RollParams" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="Q-dP8ciFNHrBAWVLvOmM-1" vertex="1">
          <mxGeometry x="615" y="400" width="350" height="156" as="geometry" />
        </mxCell>
        <mxCell id="7ELXfH5D9BQOBlX2MTjO-2" value="+ maxSegmentsMs: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="7ELXfH5D9BQOBlX2MTjO-1" vertex="1">
          <mxGeometry y="26" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7ELXfH5D9BQOBlX2MTjO-3" value="+ maxSegmentBytes: Int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="7ELXfH5D9BQOBlX2MTjO-1" vertex="1">
          <mxGeometry y="52" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7ELXfH5D9BQOBlX2MTjO-4" value="+ maxTimestampInMessages: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="7ELXfH5D9BQOBlX2MTjO-1" vertex="1">
          <mxGeometry y="78" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7ELXfH5D9BQOBlX2MTjO-6" value="+ maxOffsetInMessages: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="7ELXfH5D9BQOBlX2MTjO-1" vertex="1">
          <mxGeometry y="104" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7ELXfH5D9BQOBlX2MTjO-7" value="+ now: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="7ELXfH5D9BQOBlX2MTjO-1" vertex="1">
          <mxGeometry y="130" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7ELXfH5D9BQOBlX2MTjO-5" value="case class" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="Q-dP8ciFNHrBAWVLvOmM-1" vertex="1">
          <mxGeometry x="565" y="360" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="fG8x7NXlk2QAh7uoQM-L-0" value="Partition" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="Q-dP8ciFNHrBAWVLvOmM-1" vertex="1">
          <mxGeometry x="90" y="660" width="350" height="260" as="geometry" />
        </mxCell>
        <mxCell id="fG8x7NXlk2QAh7uoQM-L-1" value="+ topicPartition: TopicPartition" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="fG8x7NXlk2QAh7uoQM-L-0" vertex="1">
          <mxGeometry y="26" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="fG8x7NXlk2QAh7uoQM-L-2" value="+ isOffline: Boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="fG8x7NXlk2QAh7uoQM-L-0" vertex="1">
          <mxGeometry y="52" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="fG8x7NXlk2QAh7uoQM-L-3" value="+ replicaLagTimeMaxMs: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="fG8x7NXlk2QAh7uoQM-L-0" vertex="1">
          <mxGeometry y="78" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="fG8x7NXlk2QAh7uoQM-L-4" value="+ interBrokerProtocolVersion: ApiVersion" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="fG8x7NXlk2QAh7uoQM-L-0" vertex="1">
          <mxGeometry y="104" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="fG8x7NXlk2QAh7uoQM-L-5" value="+ localBrokerId: Int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="fG8x7NXlk2QAh7uoQM-L-0" vertex="1">
          <mxGeometry y="130" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="fG8x7NXlk2QAh7uoQM-L-6" value="+ time: Time" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="fG8x7NXlk2QAh7uoQM-L-0" vertex="1">
          <mxGeometry y="156" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="fG8x7NXlk2QAh7uoQM-L-7" value="+ replicaManager: ReplicaManager" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="fG8x7NXlk2QAh7uoQM-L-0" vertex="1">
          <mxGeometry y="182" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="fG8x7NXlk2QAh7uoQM-L-8" value="+ logManager: LogManager" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="fG8x7NXlk2QAh7uoQM-L-0" vertex="1">
          <mxGeometry y="208" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="fG8x7NXlk2QAh7uoQM-L-9" value="+ zkClient: KafkaZkClient" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="fG8x7NXlk2QAh7uoQM-L-0" vertex="1">
          <mxGeometry y="234" width="350" height="26" as="geometry" />
        </mxCell>
        <mxCell id="fG8x7NXlk2QAh7uoQM-L-16" value="case class" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontSize=14;fontFamily=Comic Sans MS;" parent="Q-dP8ciFNHrBAWVLvOmM-1" vertex="1">
          <mxGeometry x="40" y="620" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="4SCG20el6tYt-yeEaQIt-0" value="DefaultRecordBatch" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontSize=15;" parent="Q-dP8ciFNHrBAWVLvOmM-1" vertex="1">
          <mxGeometry x="270" y="1250" width="212.5" height="104" as="geometry" />
        </mxCell>
        <mxCell id="4SCG20el6tYt-yeEaQIt-1" value="+ field: type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="4SCG20el6tYt-yeEaQIt-0" vertex="1">
          <mxGeometry y="26" width="212.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="4SCG20el6tYt-yeEaQIt-2" value="+ field: type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="4SCG20el6tYt-yeEaQIt-0" vertex="1">
          <mxGeometry y="52" width="212.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="4SCG20el6tYt-yeEaQIt-3" value="+ field: type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="4SCG20el6tYt-yeEaQIt-0" vertex="1">
          <mxGeometry y="78" width="212.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="4SCG20el6tYt-yeEaQIt-4" value="«interface»&lt;br&gt;&lt;b&gt;RecordBatch&lt;/b&gt;" style="html=1;sketch=1;fillColor=none;fontSize=15;" parent="Q-dP8ciFNHrBAWVLvOmM-1" vertex="1">
          <mxGeometry x="590" y="1470" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="4SCG20el6tYt-yeEaQIt-5" value="«interface»&lt;br&gt;Iterable&amp;lt;Record&amp;gt;" style="html=1;sketch=1;fillColor=none;fontSize=15;" parent="Q-dP8ciFNHrBAWVLvOmM-1" vertex="1">
          <mxGeometry x="890" y="1470" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="4SCG20el6tYt-yeEaQIt-6" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;fontSize=15;" parent="Q-dP8ciFNHrBAWVLvOmM-1" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="760" y="1494.5" as="sourcePoint" />
            <mxPoint x="870" y="1494.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4SCG20el6tYt-yeEaQIt-7" value="«interface»&lt;br&gt;&lt;b&gt;MutableRecordBatch&lt;/b&gt;" style="html=1;sketch=1;fillColor=none;fontSize=15;" parent="Q-dP8ciFNHrBAWVLvOmM-1" vertex="1">
          <mxGeometry x="270" y="1470" width="175" height="50" as="geometry" />
        </mxCell>
        <mxCell id="4SCG20el6tYt-yeEaQIt-8" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;fontSize=15;" parent="Q-dP8ciFNHrBAWVLvOmM-1" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="460" y="1494.5" as="sourcePoint" />
            <mxPoint x="570" y="1494.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4SCG20el6tYt-yeEaQIt-9" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;fontSize=15;" parent="Q-dP8ciFNHrBAWVLvOmM-1" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="370" y="1370" as="sourcePoint" />
            <mxPoint x="370" y="1460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-0" value="《interface》&#xa;Iterable" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;strokeColor=#000000;fillColor=none;" vertex="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry x="1077.5" y="2330" width="240" height="128" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-1" value="+ iterator(): Iterator&lt;T&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-0">
          <mxGeometry y="50" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-2" value="+ forEach(): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-0">
          <mxGeometry y="76" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-3" value="+ spliterator(): Spliterator&lt;T&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-0">
          <mxGeometry y="102" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-4" value="《interface》&#xa;MutableRecordBatch" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;strokeColor=#000000;fillColor=none;" vertex="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry x="100" y="2330" width="270" height="154" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-5" value="+ setLastOffset(): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-4">
          <mxGeometry y="50" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-6" value="+ setMaxTimestamp(): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-4">
          <mxGeometry y="76" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-7" value="+ setPartitionLeaderEpoch(): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-4">
          <mxGeometry y="102" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-8" value="+ writeTo(): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-4">
          <mxGeometry y="128" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-9" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;" edge="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="937.5" y="2406.5" as="sourcePoint" />
            <mxPoint x="1057.5" y="2407" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-10" value="ByteBufferLegacyRecordBatch" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontSize=15;" vertex="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry x="414" y="2040" width="300" height="130" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-11" value="- buffer: ByteBuffer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="a58Y19AcLr55IAzMvGId-10">
          <mxGeometry y="26" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-12" value="- record: LegacyRecord" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="a58Y19AcLr55IAzMvGId-10">
          <mxGeometry y="52" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-13" value="+ ByteBufferLegacyRecordBatch()&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="a58Y19AcLr55IAzMvGId-10">
          <mxGeometry y="78" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-14" value="+ offset(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="a58Y19AcLr55IAzMvGId-10">
          <mxGeometry y="104" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-15" value="《interface》&#xa;Record" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;strokeColor=#000000;fillColor=none;" vertex="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry x="340" y="3800" width="270" height="492" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-16" value="+ EMPTY_HEADERS: Header[]" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="50" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-17" value="+ offset(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="76" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-18" value="+ sequence(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="102" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-19" value="+ sizeInBytes(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="128" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-20" value="+ timestamp(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="154" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-21" value="+ checksumOrNull(): Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="180" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-22" value="+ isValid(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="206" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-23" value="+ ensureValid(): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="232" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-24" value="+ keySize(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="258" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-25" value="+ hasKey(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="284" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-26" value="+ valueSize(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="310" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-27" value="+ hasValue(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="336" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-28" value="+ value(): ByteBuffer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="362" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-29" value="+ hasMagic(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="388" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-30" value="+ isCompressed(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="414" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-31" value="+ hasTimestampType(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="440" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-32" value="+ headers(): Header[]" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-15">
          <mxGeometry y="466" width="270" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-33" value="《interface》&#xa;Header" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;strokeColor=#000000;fillColor=none;" vertex="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry x="775" y="3800" width="240" height="102" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-34" value="+ key(): String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-33">
          <mxGeometry y="50" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-35" value="+ value(): byte[]" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-33">
          <mxGeometry y="76" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-36" value="" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;fontFamily=Comic Sans MS;fontSize=15;" edge="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry x="-1" y="3" relative="1" as="geometry">
            <mxPoint x="755" y="3830" as="sourcePoint" />
            <mxPoint x="625" y="3830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-37" value="《interface》&#xa;RecordBatch" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;strokeColor=#000000;fillColor=none;" vertex="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry x="540" y="2330" width="370" height="622" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-38" value="+ isValid(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="50" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-39" value="+ ensureValid(): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="76" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-40" value="+ checksum(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="102" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-41" value="+ maxTimestamp(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="128" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-42" value="+ timestampType(): TimestampType" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="154" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-43" value="+ baseOffset(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="180" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="a58Y19AcLr55IAzMvGId-44" value="+ lastOffset(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="206" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-0" value="+ nextOffset(): long&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="232" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-2" value="+ magic(): byte" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="258" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-1" value="+ producerId(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="284" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-3" value="+ producerEpoch(): short" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="310" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-4" value="+ hasProducerId(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="336" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-5" value="+ lastSequence(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="362" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-6" value="+ compressionType: CompressionType" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="388" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-8" value="+ sizeInBytes(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="414" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-7" value="+ countOrNull(): Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="440" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-9" value="+ isCompressed(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="466" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-10" value="+ writeTo(): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="492" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-11" value="+ isTransactional(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="518" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-12" value="+ partitionLeaderEpoch(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="544" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-13" value="+ streamingIterator: CloseableIterator&lt;Record&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="570" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-14" value="+ isControlBatch(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="a58Y19AcLr55IAzMvGId-37">
          <mxGeometry y="596" width="370" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-15" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;sketch=1;" edge="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="390" y="2393.5" as="sourcePoint" />
            <mxPoint x="510" y="2394" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-16" value="abstract&#xa;AbstractRecordBatch" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" vertex="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry x="110" y="2620" width="230" height="136" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-17" value="+ hasProducerId(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-16">
          <mxGeometry y="50" width="230" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-18" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=15;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-16">
          <mxGeometry y="76" width="230" height="8" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-19" value="+ nextOffset(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-16">
          <mxGeometry y="84" width="230" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-21" value="+ isCompressed(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-16">
          <mxGeometry y="110" width="230" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-20" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;fontFamily=Comic Sans MS;fontSize=15;sketch=1;" edge="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="354" y="2640" as="sourcePoint" />
            <mxPoint x="520" y="2550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-22" value="ByteBufferLegacyRecordBatch" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontSize=15;" vertex="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry x="-1030" y="2620" width="300" height="130" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-23" value="- buffer: ByteBuffer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-22">
          <mxGeometry y="26" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-24" value="- record: LegacyRecord" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-22">
          <mxGeometry y="52" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-25" value="+ ByteBufferLegacyRecordBatch()&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-22">
          <mxGeometry y="78" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-26" value="+ offset(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-22">
          <mxGeometry y="104" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-27" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;fontFamily=Comic Sans MS;fontSize=15;sketch=1;" edge="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-50" y="2670" as="sourcePoint" />
            <mxPoint x="100" y="2670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-28" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;fontFamily=Comic Sans MS;fontSize=15;sketch=1;" edge="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-790" y="2600" as="sourcePoint" />
            <mxPoint x="90" y="2420" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-350" y="2510" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-29" value="ByteBufferLegacyRecordBatch" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontSize=15;" vertex="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry x="-640" y="2328" width="300" height="130" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-30" value="- buffer: ByteBuffer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-29">
          <mxGeometry y="26" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-31" value="- record: LegacyRecord" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-29">
          <mxGeometry y="52" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-32" value="+ ByteBufferLegacyRecordBatch()&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-29">
          <mxGeometry y="78" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-33" value="+ offset(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-29">
          <mxGeometry y="104" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-34" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;fontFamily=Comic Sans MS;fontSize=15;sketch=1;" edge="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-510" y="2470" as="sourcePoint" />
            <mxPoint x="150" y="2610" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-35" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;fontFamily=Comic Sans MS;fontSize=15;sketch=1;" edge="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-310" y="2380" as="sourcePoint" />
            <mxPoint x="90" y="2380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-36" value="abstract&#xa;AbstractLegacyRecordBatch" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;swimlaneLine=0;" vertex="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry x="-560" y="2620" width="490" height="1020" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-38" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=15;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="50" width="490" height="8" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-63" value="+ outerRecord():  LeacyRecord" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="58" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-47" value="+ lastOffset(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="84" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-41" value="+ isValid(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="110" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-42" value="+ ensureValid(): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="136" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-64" value="+ keySize(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="162" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-65" value="+ hasKey(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="188" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-66" value="+ key(): ByteBuffer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="214" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-67" value="+ valueSize(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="240" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-68" value="+ hasValue(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="266" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-69" value="+ value(): ByteBuffer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="292" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-70" value="+ headers(): Header[]" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="318" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-71" value="+ hasMagic(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="344" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-72" value="+ hasTimestampType(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="370" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-73" value="+ checksumOrNull(): Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="396" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-74" value="+ checksum(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="422" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-75" value="+ maxTimestamp: long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="448" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-76" value="+ timestamp(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="474" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-77" value="+ timestampType(): TimestampType" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="500" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-78" value="+ baseOffset(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="526" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-79" value="+ magic(): byte" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="552" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-80" value="+ compressionType(): CompressionType" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="578" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-81" value="+ sizeInBytes(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="604" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-82" value="+ countOrNull(): Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="630" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-83" value="+ wirteTo(): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="656" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-84" value="+ producerId(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="682" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-85" value="+ producerEpoch(): short" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="708" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-86" value="+ hasProducerId(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="734" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-87" value="+ sequence(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="760" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-88" value="+ baseSequence(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="786" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-89" value="+ lastSequence(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="812" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-90" value="+ isTransactional(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="838" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-91" value="+ partitionLeaderEpoch(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="864" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-92" value="+ isControlBatch(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="890" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-93" value="+ iterator(): Iterator&lt;Record&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="916" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-94" value="+ streamingIterator(): CloseableIterator&lt;Record&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="942" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-95" value="+ writeHeader(ByteBuffer buffer,long offset,int size): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="968" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-96" value="+ writeHeader(DataOutputStream out,long offset,int size): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontColor=#000000;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-36">
          <mxGeometry y="994" width="490" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-97" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;fontFamily=Comic Sans MS;fontSize=15;sketch=1;" edge="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-710" y="2650" as="sourcePoint" />
            <mxPoint x="-570" y="2650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-98" value="DeepRecordsIterator" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontSize=15;" vertex="1" parent="Q-dP8ciFNHrBAWVLvOmM-1">
          <mxGeometry x="-1610" y="3260" width="420" height="182" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-99" value="- innerEntries: ArrayDeque&lt;AbstractLegacyRecordBatch&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-98">
          <mxGeometry y="26" width="420" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-100" value="- absoluteBaseOffset: long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-98">
          <mxGeometry y="52" width="420" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-103" value="- wrapperMagic: byte" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-98">
          <mxGeometry y="78" width="420" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-101" value="+ DeepRecordsIterator()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-98">
          <mxGeometry y="104" width="420" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-102" value="+ makeNext(): Record" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-98">
          <mxGeometry y="130" width="420" height="26" as="geometry" />
        </mxCell>
        <mxCell id="e02MDBkhU9Ue5mAWsyR3-104" value="+ close(): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontSize=15;" vertex="1" parent="e02MDBkhU9Ue5mAWsyR3-98">
          <mxGeometry y="156" width="420" height="26" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="ZzPl8Udfw6KRWm0fem9V" name="消息写入">
    <mxGraphModel dx="1344" dy="862" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="qzsvuyMeHeyRza1FTJpW-0" />
        <mxCell id="qzsvuyMeHeyRza1FTJpW-1" parent="qzsvuyMeHeyRza1FTJpW-0" />
        <mxCell id="qzsvuyMeHeyRza1FTJpW-2" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="qzsvuyMeHeyRza1FTJpW-1" vertex="1">
          <mxGeometry x="60" y="30" width="740" height="290" as="geometry" />
        </mxCell>
        <mxCell id="qzsvuyMeHeyRza1FTJpW-3" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="qzsvuyMeHeyRza1FTJpW-1" vertex="1">
          <mxGeometry x="60" y="450" width="740" height="390" as="geometry" />
        </mxCell>
        <mxCell id="qzsvuyMeHeyRza1FTJpW-4" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;" parent="qzsvuyMeHeyRza1FTJpW-1" vertex="1">
          <mxGeometry x="60" y="960" width="740" height="400" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="YhjTEdzOKPPAYxvLgfHy" name="消息消费">
    <mxGraphModel dx="1877" dy="629" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="irSGnVBY-uwqekJJw429-0" />
        <mxCell id="irSGnVBY-uwqekJJw429-1" parent="irSGnVBY-uwqekJJw429-0" />
        <mxCell id="irSGnVBY-uwqekJJw429-2" value="KafkaApis" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=#ffe6cc;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1;strokeColor=#d79b00;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="132.5" y="103.75" width="135" height="722.5" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-3" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#d80073;fontFamily=Comic Sans MS;strokeColor=#A50040;fontSize=15;fontColor=#ffffff;fontStyle=1" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="195" y="206.25" width="10" height="580" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-4" value="ReplicaManager" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=#ffe6cc;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1;strokeColor=#d79b00;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="410" y="103.75" width="135" height="732.5" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-5" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#1ba1e2;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#006EAF;fontColor=#ffffff;fontStyle=1" parent="irSGnVBY-uwqekJJw429-4" vertex="1">
          <mxGeometry x="75" y="227.5" width="10" height="392.5" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-6" value="readFromLocalLog()" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="irSGnVBY-uwqekJJw429-4" target="irSGnVBY-uwqekJJw429-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="80" y="207.5" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="110" y="208" />
              <mxPoint x="110" y="228" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-7" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#0050ef;fontFamily=Comic Sans MS;strokeColor=#001DBC;fontSize=15;fontColor=#ffffff;fontStyle=1" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="472.5" y="276.25" width="10" height="480" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-8" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="irSGnVBY-uwqekJJw429-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="220" y="286.25" as="sourcePoint" />
            <mxPoint x="460" y="286.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-9" value="fetchMessages()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="347.5" y="250" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-10" value="Partition" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=#ffe6cc;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1;strokeColor=#d79b00;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="670" y="103.75" width="135" height="732.5" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-11" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#60a917;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#2D7600;fontColor=#ffffff;fontStyle=1" parent="irSGnVBY-uwqekJJw429-10" vertex="1">
          <mxGeometry x="62.5" y="282.5" width="10" height="327.5" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-12" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="irSGnVBY-uwqekJJw429-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="505" y="386.25" as="sourcePoint" />
            <mxPoint x="720" y="386.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-13" value="readRecords()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=1;fillColor=#ffffff;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="692.5" y="356.25" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-14" value="Log" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=#ffe6cc;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1;strokeColor=#d79b00;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="910" y="100" width="135" height="736.25" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-15" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#e51400;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#B20000;fontColor=#ffffff;fontStyle=1" parent="irSGnVBY-uwqekJJw429-14" vertex="1">
          <mxGeometry x="62.5" y="316.25" width="10" height="293.75" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-16" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#76608a;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1;strokeColor=#432D57;fontColor=#ffffff;" parent="irSGnVBY-uwqekJJw429-14" vertex="1">
          <mxGeometry x="75" y="384.25" width="10" height="175.75" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-17" value="append()" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="irSGnVBY-uwqekJJw429-14" target="irSGnVBY-uwqekJJw429-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="80" y="364.25" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="110" y="364.25" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-18" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="irSGnVBY-uwqekJJw429-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="760" y="421.25" as="sourcePoint" />
            <mxPoint x="960" y="420.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-19" value="read()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=1;fillColor=#ffffff;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="950" y="386.25" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-20" value="LogSegment" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=#ffe6cc;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1;strokeColor=#d79b00;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="1140" y="100" width="135" height="736.25" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-21" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#e3c800;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#B09500;fontColor=#ffffff;fontStyle=1" parent="irSGnVBY-uwqekJJw429-20" vertex="1">
          <mxGeometry x="62.5" y="420" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-22" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="irSGnVBY-uwqekJJw429-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="1010" y="526.75" as="sourcePoint" />
            <mxPoint x="1190" y="527.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-23" value="read()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=1;fillColor=#ffffff;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="1180" y="496.25" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-24" value="FileChannelImpl" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="1340" y="100" width="135" height="736.25" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-25" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;sketch=1;fillColor=#e3c800;fontFamily=Comic Sans MS;fontSize=15;strokeColor=#B09500;fontColor=#ffffff;fontStyle=1" parent="irSGnVBY-uwqekJJw429-24" vertex="1">
          <mxGeometry x="62.5" y="460" width="10" height="90" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-26" value="" style="html=1;verticalAlign=bottom;endArrow=block;fontFamily=Comic Sans MS;fontSize=15;sketch=1;fontStyle=1" parent="irSGnVBY-uwqekJJw429-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="1230" y="567.25" as="sourcePoint" />
            <mxPoint x="1395" y="567.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-27" value="write(buffer)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=15;fontFamily=Comic Sans MS;fontStyle=1;fillColor=#ffffff;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="1352.5" y="526.25" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-28" value="handleFetchRequest()" style="text;html=1;strokeColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;fontStyle=1;fillColor=#ffffff;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="100" y="176.25" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-29" value="LogReadInfo" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="-150" y="990" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-30" value="+ fetchedData: FetchDataInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;" parent="irSGnVBY-uwqekJJw429-29" vertex="1">
          <mxGeometry y="26" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-31" value="+ highWatermark: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;" parent="irSGnVBY-uwqekJJw429-29" vertex="1">
          <mxGeometry y="52" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-32" value="+ logEndOffset: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;" parent="irSGnVBY-uwqekJJw429-29" vertex="1">
          <mxGeometry y="78" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-33" value="+ lastStableOffset: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;" parent="irSGnVBY-uwqekJJw429-29" vertex="1">
          <mxGeometry y="104" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-34" value="FetchDataInfo" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="-150" y="1160" width="460" height="130" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-35" value="+ fetchOffsetMetadata: LogOffsetMetadata" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;" parent="irSGnVBY-uwqekJJw429-34" vertex="1">
          <mxGeometry y="26" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-36" value="+ records: Records" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;" parent="irSGnVBY-uwqekJJw429-34" vertex="1">
          <mxGeometry y="52" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-37" value="+ firstEntryIncomplete: Boolean =  false" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;" parent="irSGnVBY-uwqekJJw429-34" vertex="1">
          <mxGeometry y="78" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-38" value="+ abortedTransactions: Option[List[AbortedTransaction]] = None" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;" parent="irSGnVBY-uwqekJJw429-34" vertex="1">
          <mxGeometry y="104" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-39" value="LogOffsetPosition" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=15;" parent="irSGnVBY-uwqekJJw429-1" vertex="1">
          <mxGeometry x="220" y="990" width="220" height="104" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-40" value="+ offset: long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;" parent="irSGnVBY-uwqekJJw429-39" vertex="1">
          <mxGeometry y="26" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-41" value="+ position: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;" parent="irSGnVBY-uwqekJJw429-39" vertex="1">
          <mxGeometry y="52" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="irSGnVBY-uwqekJJw429-42" value="+ size: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=15;" parent="irSGnVBY-uwqekJJw429-39" vertex="1">
          <mxGeometry y="78" width="220" height="26" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="C4w6I0D3nZ9DRmVUK6Kd" name="消息转换">
    <mxGraphModel dx="2650" dy="1429" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0GXc-GV5keX0RT1CCUeb-0" />
        <mxCell id="0GXc-GV5keX0RT1CCUeb-1" parent="0GXc-GV5keX0RT1CCUeb-0" />
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-12" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=14;fillColor=#d5e8d4;strokeColor=#82b366;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1345" y="740" width="425" height="220" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--0" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=14;fontFamily=Comic Sans MS;fontStyle=1" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1350" y="-530" width="640" height="100" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--1" value="Batch01" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=14;fontFamily=Comic Sans MS;fontStyle=1" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1330" y="-510" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--2" value="Batch02" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontSize=14;fontFamily=Comic Sans MS;fontStyle=1" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1190" y="-510" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--3" value="Records: MemoryRecords" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontSize=14;fontFamily=Comic Sans MS;fontStyle=0" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1360" y="-570" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--6" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=14;fillColor=none;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1330" y="-270" width="830" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--7" value="OFFSET" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=14;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1330" y="-270" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--9" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;sketch=1;fontFamily=Comic Sans MS;fontSize=14;fillColor=none;rotation=-180;direction=south;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1330" y="30" width="530" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--10" value="LOG_OVERHEAD" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=14;fontFamily=Comic Sans MS;sketch=1;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1130" y="60" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--11" value="an 8 byte offset" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=14;fontFamily=Comic Sans MS;fontStyle=1;sketch=1;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1315" y="-300" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--12" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=14;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;entryX=0;entryY=1;entryDx=0;entryDy=0;" parent="0GXc-GV5keX0RT1CCUeb-1" target="CApMfXqcfHME-Ok1L-e--7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1420" y="-170" as="sourcePoint" />
            <mxPoint x="-1330" y="-200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--13" value="OFFSET_OFFSET=0" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#82b366;fontSize=14;fontFamily=Comic Sans MS;fillColor=#d5e8d4;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1495" y="-160" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--15" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;sketch=1;fontFamily=Comic Sans MS;fontSize=14;fillColor=#f8cecc;rotation=-180;direction=south;strokeColor=#b85450;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1330" y="-210" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--17" value="OFFSET_LENGTH=8" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#b85450;fontSize=14;fontFamily=Comic Sans MS;fillColor=#f8cecc;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1320" y="-160" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--18" value="SIZE" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=14;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1170" y="-270" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--19" value="a 4 byte record size" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=14;fontFamily=Comic Sans MS;fontStyle=1;sketch=1;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1170" y="-300" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--20" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=14;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;entryX=0;entryY=1;entryDx=0;entryDy=0;exitX=0.175;exitY=-0.15;exitDx=0;exitDy=0;exitPerimeter=0;" parent="0GXc-GV5keX0RT1CCUeb-1" source="CApMfXqcfHME-Ok1L-e--21" target="CApMfXqcfHME-Ok1L-e--18" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1160" y="-130" as="sourcePoint" />
            <mxPoint x="-1160" y="-200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--21" value="SIZE_OFFSET=OFFSET_OFFSET + OFFSET_LENGTH" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#82b366;fontSize=14;fontFamily=Comic Sans MS;fillColor=#d5e8d4;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1230" y="-120" width="380" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--22" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;sketch=1;fontFamily=Comic Sans MS;fontSize=14;fillColor=#f8cecc;rotation=-180;direction=south;strokeColor=#b85450;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1170" y="-210" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--23" value="SIZE_LENGTH=4" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#b85450;fontSize=14;fontFamily=Comic Sans MS;fillColor=#f8cecc;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1145" y="-160" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--24" value="..." style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=14;fontStyle=1;fillColor=none;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1010" y="-270" width="50" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--26" value="MAGIC" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=14;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-960" y="-270" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--27" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=14;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;exitX=0.175;exitY=-0.15;exitDx=0;exitDy=0;exitPerimeter=0;" parent="0GXc-GV5keX0RT1CCUeb-1" source="CApMfXqcfHME-Ok1L-e--28" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-950" y="-70" as="sourcePoint" />
            <mxPoint x="-960" y="-200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--28" value="MAGIC_OFFSET=16" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#82b366;fontSize=14;fontFamily=Comic Sans MS;fillColor=#d5e8d4;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-975" y="-70" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--30" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;sketch=1;fontFamily=Comic Sans MS;fontSize=14;fillColor=#f8cecc;rotation=-180;direction=south;strokeColor=#b85450;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-960" y="-210" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="CApMfXqcfHME-Ok1L-e--31" value="MAGIC_LENGTH=1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#b85450;fontSize=14;fontFamily=Comic Sans MS;fillColor=#f8cecc;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-943" y="-160" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="6v0MAlboavC6B653MNJj-0" value="" style="endArrow=classic;html=1;sketch=1;fillColor=#6a00ff;strokeColor=#3700CC;entryX=0.4;entryY=1.25;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=14;" parent="0GXc-GV5keX0RT1CCUeb-1" target="CApMfXqcfHME-Ok1L-e--23" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1190" y="-40" as="sourcePoint" />
            <mxPoint x="-1270" y="-130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6v0MAlboavC6B653MNJj-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;buffer.getInt(buffer.position() + SIZE_OFFSET)&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#3700CC;fontFamily=Comic Sans MS;fillColor=#6a00ff;fontColor=#ffffff;fontSize=14;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1370" y="-30" width="340" height="20" as="geometry" />
        </mxCell>
        <mxCell id="6v0MAlboavC6B653MNJj-3" value="" style="endArrow=classic;html=1;sketch=1;fillColor=#6a00ff;strokeColor=#3700CC;fontFamily=Comic Sans MS;fontSize=14;" parent="0GXc-GV5keX0RT1CCUeb-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-590" y="-60" as="sourcePoint" />
            <mxPoint x="-820" y="-130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6v0MAlboavC6B653MNJj-4" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;buffer.get(buffer.position() + MAGIC_OFFSET)&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#3700CC;fontFamily=Comic Sans MS;fillColor=#6a00ff;fontColor=#ffffff;fontSize=14;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-745" y="-50" width="330" height="20" as="geometry" />
        </mxCell>
        <mxCell id="6v0MAlboavC6B653MNJj-5" value="" style="shape=flexArrow;endArrow=classic;html=1;fontFamily=Comic Sans MS;fillColor=#cdeb8b;strokeColor=#36393d;sketch=1;fontSize=14;" parent="0GXc-GV5keX0RT1CCUeb-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1260.5" y="-410" as="sourcePoint" />
            <mxPoint x="-1260.5" y="-320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-0" value="ClassA" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=14;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1500" y="500" width="70" height="160" as="geometry" />
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-1" value="JSONObject&lt;br&gt;temp" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=14;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1330" y="500" width="115" height="160" as="geometry" />
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-2" value="ClassB" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=none;fontFamily=Comic Sans MS;fontSize=14;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1115" y="500" width="70" height="160" as="geometry" />
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-3" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=14;sketch=1;" parent="0GXc-GV5keX0RT1CCUeb-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1405" y="579.5" as="sourcePoint" />
            <mxPoint x="-1345" y="579.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-4" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=14;sketch=1;" parent="0GXc-GV5keX0RT1CCUeb-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1190" y="579.5" as="sourcePoint" />
            <mxPoint x="-1130" y="579.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-5" value="V0，V1格式消息" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#ffe6cc;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#d79b00;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1570" y="770" width="140" height="160" as="geometry" />
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-6" value="MessageConversions" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=14;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1330" y="770" width="160" height="160" as="geometry" />
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-7" value="V2格式消息" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fillColor=#f8cecc;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#b85450;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1080" y="770" width="145" height="160" as="geometry" />
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-8" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=14;sketch=1;" parent="0GXc-GV5keX0RT1CCUeb-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1405" y="849.5" as="sourcePoint" />
            <mxPoint x="-1345" y="849.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-9" value="" style="endArrow=classic;html=1;fontFamily=Comic Sans MS;fontSize=14;sketch=1;" parent="0GXc-GV5keX0RT1CCUeb-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1150" y="849.5" as="sourcePoint" />
            <mxPoint x="-1090" y="849.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-10" value="Producer" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=14;fontFamily=Comic Sans MS;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1570" y="740" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-13" value="Broker" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=14;fontFamily=Comic Sans MS;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1345" y="710" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="4ocXX6pmBxAiZlcXLzEa-14" value="Fastjson" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=14;fontFamily=Comic Sans MS;" parent="0GXc-GV5keX0RT1CCUeb-1" vertex="1">
          <mxGeometry x="-1330" y="470" width="70" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="AWj4euVOh_9t9A1dAmeE" name="事务写入">
    <mxGraphModel dx="1450" dy="629" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-1" value="Kafka Producer" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=15;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="-50" y="145" width="100" height="350" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-2" value="" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=15;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="260" y="150" width="780" height="340" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-3" value="Transaction Coordinator事务协调器" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=15;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="294" y="190" width="216" height="130" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-5" value="TopicA-Partition0 Leader" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=15;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="294" y="410" width="216" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-6" value="__transaction_state-分区-Leader存储事务信息的特殊主题" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=15;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="690" y="195" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-7" value="默认有50个分区，每个分区负责一部分事务，事务划分是根据transactional.id的hashcode值%50，计算出该事务属于哪个分区，该分区的Leader副本所在的broker节点即为这个tracsactional.id对应的Transaction Coordinator节点" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;fontSize=15;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="690" y="280" width="280" height="120" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-8" value="" style="endArrow=classic;html=1;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontSize=12;fontFamily=Lucida Console;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="200" as="sourcePoint" />
            <mxPoint x="290" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-9" value="1.请求producer id（幂等性需要）" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontSize=12;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="70" y="170" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-10" value="" style="endArrow=classic;html=1;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontSize=12;fontFamily=Lucida Console;exitX=-0.019;exitY=0.348;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="SSn8Z-7PhPOZLekp6jcO-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="246" as="sourcePoint" />
            <mxPoint x="60" y="235" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-11" value="2.返回producer id" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontSize=12;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="80" y="210" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-12" value="" style="endArrow=classic;html=1;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontSize=12;fontFamily=Lucida Console;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="430" as="sourcePoint" />
            <mxPoint x="290" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-13" value="3.发送消息到TopicA" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontSize=12;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="70" y="400" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-17" value="" style="endArrow=classic;html=1;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontSize=12;fontFamily=Lucida Console;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="280" as="sourcePoint" />
            <mxPoint x="290" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-18" value="4.发送commit请求" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontSize=12;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="70" y="250" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-22" value="" style="endArrow=classic;html=1;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontSize=12;fontFamily=Lucida Console;exitX=-0.019;exitY=0.348;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="290" y="315" as="sourcePoint" />
            <mxPoint x="60" y="315" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-23" value="6.返回成功" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontSize=12;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="80" y="290" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-24" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;sketch=1;curveFitting=1;jiggle=2;" edge="1" parent="1" target="SSn8Z-7PhPOZLekp6jcO-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="210" as="sourcePoint" />
            <mxPoint x="620" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-25" value="5.持久化commit请求" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="540" y="180" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-26" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.219;entryY=-0.02;entryDx=0;entryDy=0;entryPerimeter=0;sketch=1;curveFitting=1;jiggle=2;" edge="1" parent="1" target="SSn8Z-7PhPOZLekp6jcO-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="340" y="320" as="sourcePoint" />
            <mxPoint x="340" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-27" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.722;exitY=0.033;exitDx=0;exitDy=0;exitPerimeter=0;sketch=1;curveFitting=1;jiggle=2;" edge="1" parent="1" source="SSn8Z-7PhPOZLekp6jcO-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="350" y="340" as="sourcePoint" />
            <mxPoint x="450" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-28" value="7.后台发送commit请求" style="text;html=1;strokeColor=none;fillColor=default;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="294" y="340" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-32" value="8.返回成功" style="text;html=1;strokeColor=none;fillColor=default;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="430" y="340" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-33" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;sketch=1;curveFitting=1;jiggle=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="515" y="254" as="sourcePoint" />
            <mxPoint x="685" y="254" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SSn8Z-7PhPOZLekp6jcO-34" value="9.持久化事务成功信息" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;curveFitting=1;jiggle=2;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="535" y="224" width="125" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
