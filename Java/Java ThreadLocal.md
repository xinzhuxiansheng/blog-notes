

## 一致性问题
* 发生在多个主体对同一份数据无法达成共识
* 包括：分布式一致性问题，并发问题等
* 特点：场景多、问题复杂、难以察觉  --- 需要严密的思考甚至数学论证

## 一致性问题解决办法
* 排队(例如：锁、互斥量、管程、屏障等) 
* 投票（例如：Paxos、Raft等）
 
* 避免（例如：ThreadLocal等）


## ThreadLocal
* 定义：提供线程局部变量；一个线程局部变量在多个线程中，分别有独立的值(副本)
* 特点：简单（开箱即用）、快速（无额外开销）、安全（线程安全）
* 场景：多线程场景（资源持有、线程一致性、并发计算、线程安全等场景）
  
* 实现原理：Java中用哈希表实现
* 应用范围：几乎所有提供多线程的语言


