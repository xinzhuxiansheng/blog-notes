
## 线程池
在Java中，可以通过自定义代码来管理线程，应用程序也可以利用线程池。Java服务器通常就是围绕用一个或多个线程池处理请求的概念来构建的：每个对服务器的调用都由线程池中的一个（可能不同的）线程来处理。同样，其他应用程序也可以利用Java的ThreadPoolExecutor来并行执行任务。事实上，有些服务器的框架就是用ThreadPoolExecutor类的实例来管理其任务的。很多服务器编写了自己的线程池，不过都是在Java API添加ThreadPoolExecutor之前编写的。虽然在这些情况下，线程池的实现可能会有不同，但基本的概念是相同

使用线程池的一个关键是，线程池的大小对获取最佳性能至关重要。线程池的性能会根据线程池大小这一基本选择而有所不同，在某些情况下，过大的线程池会对性能造成损害。所有线程池的工作方式基本上是相同的。任务被提交到一个队列（可能有不止一个队列，但概念是一样的），然后一定数量的线程会从队列中取出任务并执行它们。任务的结果可以发送回客户端（比如在使用服务器的情况下），可以存储到数据库中，也可以存储到内部数据结构中，等等。执行完任务后，线程会返回任务队列，取出另一个任务并执行（如果没有更多的任务要执行，线程会等待下一个任务）。



#### refer
1.《Java性能权威指南》