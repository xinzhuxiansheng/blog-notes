# kafka 改进建议

这个页面描述了一个提议的Kafka改进建议(KIP)过程，用于提议对Kafka的一个主要更改。
创建你自己的KIP，点击创建KIP。如果您没有权限，请将您的Wiki ID发送到dev@kafka.apache.org并请求权限(http://kafka.apache.org/contact)。另外，在讨论中的Kafka改进建议#KIPs表中添加一个条目(对于Streams API KIPs，也请将其添加到Kafka Streams子页面)。

* 目的
* 什么被认为是重大改变的，需要一个KIP?
* 一个KIP应包括什么?
* 谁应该发起KIP?
* 进程
* KIP聚集
* 采用的KIPS
* 正在讨论的KIPS
* 废弃的KIPs
* KIP讨论记录


## 目的(Purpose)
我们致力于让Kafka成为用户的核心架构组件，还支持与其他工具、系统和客户端的大量集成。保持这种使用的健康需要在不同版本之间有高度的兼容性——核心架构元素不能破坏兼容性，也不能在不同版本之间转换功能。因此，每一个新的主要特性或公共api都必须以一种我们能够坚持下去的方式来完成。

希望我们可以使这些努力与他们的规模成比例-小的变化应该只需要几个简短的段落，而大的变化需要详细的设计讨论。
这个过程也不是为了阻止不兼容的改变——提出不兼容的改变是完全合法的。有时我们会犯错误，而最好的前进道路是彻底的决裂，这将清理一切，并为我们的前进打下良好的基础。相反，这样做是为了避免在chan时意外地引入考虑不周全的接口和协议，从而导致不必要的心痛

## 什么被认为是重大改变的，需要一个KIP?(What is considered a "major change" that needs a KIP?)

`下列任何一项都应视为重大改变:`
* 任何主要的新特性、子系统或功能块
* 影响项目公共接口的任何更改

`项目的“公共接口”是什么?`
以下都是人们建立的公共接口:
* 二进制日志格式
* 网络协议和api行为
* 生成Javadoc的任何类。这包括(但不限于;在build.gradle 中查找javadoc{}节。(适用于完整名单)
    * org/apache/kafka/common/serialization
    * org/apache/kafka/common
    * org/apache/kafka/common/errors
    * org/apache/kafka/clients/producer
    * org/apache/kafka/clients/consumer (eventually, once stable)
* 配置，特别是客户端配置
* 监控
* 命令行工具和参数

并不是所有的兼容性承诺都是相同的。我们需要花更多的时间在日志格式和协议上，因为这些在很多客户端中断代码，导致停机释放，等等。接下来是公共api，因为它们导致人们重新构建代码，并导致大型多依赖项项目中的兼容性问题(最终需要多个不兼容的版本)。配置、监视和命令行工具可以更快、更宽松——这里的更改将破坏监视仪表板，并且在升级期间需要一点小心，但不会成为巨大的负担。
在大多数情况下，监视是命令

## 一个KIP应该包含哪些？(What should be included in a KIP?)

KIP应包括以下部分:
* 动机:描述要解决的问题
* 建议的改变:描述你想做的新事情。这可能是相当广泛的，并有大的细分自己。也可能是几句话，取决于变化的范围。
* 新的或更改的公共接口:对上述任何“兼容性承诺”的影响。我们想特别指出这些，这样每个人都能想到它们。
* 迁移计划和兼容性:如果此功能需要额外的no-支持

## 进程(Process)

下面是创建KIP的过程:
1. 单击 Create KIP, 获得下一个可用的KIP编号，给你的提案，一个描述性的标题。如。“KIP 42:在有限的磁盘使用情况下允许无限保留”。
2. 填写上面描述的部分
在Apache邮件列表中启动一个[讨论]线程。请确保线程的主题是格式[讨论]KIP-{您的KIP编号}{您的KIP标题}和主体包含一个链接到您的新KIP。讨论应该在邮件列表中进行，而不是在wiki上，因为wiki评论系统不适合较大的dis