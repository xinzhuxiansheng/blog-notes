## Flink 时间语义   

### 时间的三种概念
	
#### 事件生成时间(Event Time)   

事件时间是每个事件在其生产设备上发生的时间，这个时间通常是在记录进行Flink之前嵌入的，可以从每个记录中提取事件时间戳,时间的进展取决于数据本身，而不是其他的时钟;       

事件时间程序必须指定如何生成事件时间水印(Event Time Watermarks),这是事件时间进展的信号机制,除非知道事件是按顺序到达的(通过时间戳)，否则在等待无序事件时，事件时间处理会导致一些延迟。由于只能等待有限的一段时间，这就限制了应用程序的确定性事件时间;    

#### 事件处理时间(Processing Time)
当流程序在 processing time上运行时，所有基于时间的操作(如windows)将使用运行各个操作符的机器的系统时钟。处理时间是最简单的时间概念，不需要流和机器之间的协调。它提供了最好的性能和最低的延迟;    

在分布式和异步环境中，处理时间并不能提供确定性，它容易受到记录到达系统的速度(例如，从消息队列)、记录在系统内部操作符之间流动的速度以及停机(计划的或其他方式)的影响。            

#### 事件接入时间(Ingestion Time)   
摄入时间是事件进入Flink的时间，在源操作符中，每个记录以时间戳的形式获取源的当前时间。摄入时间概念上介于事件时间和处理时间之间，与处理时间相比，它稍微好资源一些，但是提供了更可预测的结果。摄取时间使用稳定的时间戳(在源处分配一次)，对记录的不同窗口操作将引入相同的时间戳，而在处理时间中，每个窗口操作可以将记录分配到不同的窗口，与事件时间相比，摄取时间程序不能处理任何无序的事件或延迟的数据，但程序不必指定如何生成水印。