## 分布式数据 复制介绍    

>在分布式数据中常见的两个基础技术 -- 分区和复制         

### 引言    
分区将数据和负载分配到多个节点,提高了系统的可扩展性和性能。为了提高可用性,除了分区还需要复制(`Replication`)。`复制`是指将同一份数据冗余存储在多个节点上，节点间通过网络来同步数据，使之保持一致。一个存储了复制数据的节点称为副本 (Replica)。复制可以和分区一起使用。    

**复制的主要好处有:**   
(1)`增强数据的可用性和安全性`。如果只把数据存放在单一的数据库服务器上,一旦该服务器永久损坏,将导致数据丢失、服务停止。数据备份已经是运维人员的共识。通过复制技术将数据冗余存储，即使系统部分节点发生故障,系统也能继续工作，有时用户甚至没有发现系统部分节点出现过问题。      

(2)减少往返时间。不管你的数据库的处理有多快,数据仍然需要从客户端发起请求,通过网络传输到服务端，服务端处理完之后，数据也需要重走一遍来路，返回到客户端，这一段时间被称为往返时间(Round-Tip Time,RTT),往返时间是无法避免的。通过复制技术把数据存储到各个数据中心，可以将全国各地甚至全球不同用户的请求重定向到离用户位置更近的副本，减少往返时间，提升响应速度。

(3)增加吞吐量。一台服务器能够处理的请求数存在物理上限,这种情况下复制出同样的几台服务器,可以提供更多处理读写请求的机器,系统的处理性能能够成倍增长。      

但凡事都有两面性,复制带来高可用性、高性能的同时,也给系统带来了复杂性。复制意味着系统中的每份数据会有多个副本，这些副本在每次更新时必须一起更新或相互同步数据。理想情况下，复制应该对客户端来说无感知,即营造出一种每份数据只有一个副本的假象。要实现理想的情况总是不太容易,网络延迟总是会“捣鬼”。有时为了保障系统的性能,需要放弃一些其他的属性，甚至允许在特定的条件下，返回一些过期的、反直觉的数据。           

后续我们将讨论三种常用的复制类型:单主(Single-Master)复制、多主 (Multi-Master)复制和无主 (Leaderless)复制。                  

          



